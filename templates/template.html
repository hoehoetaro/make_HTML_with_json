<!DOCTYPE html>
<html lang="jp">
<head>
    <meta charset="UTF-8">
    <title>{{ title.name }}</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
    <div class="div-img">
        <img src="{{ title.thumbnail_source }}" onerror="this.onerror=null; this.parentNode.innerHTML='<h1>'+this.alt+'</h1>';" alt="{{ title.name }}">
    </div>

    <div class="div-links">
        <h2>Links</h2>
        <ul>
        {% for content in contents %}
            <li><a href="#{{ content.name | replace(' ', '') }}">{{ content.name }}</a></li>
        {% endfor %}
        </ul>
    </div>

    {% for content in contents %}
        <div id="{{ content.name | replace(' ', '') }}">
        {% if content.type == 'p' %}
            <div class="div-p">
                <h3>{{ content.name }}</h3>
                <p>{{ content.description }}</p>
            </div>
        {% elif content.type == 'glossary' %}
            <div class="div-p">
                <h3>{{ content.name }}</h3>
                <dl>
                    <dd>{{ content.description }}</dd>
                </dl>
            </div>
        {% elif content.type == 'glossary_table' %}
            <div class="div-table">
                <h3>{{ content.name }}</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Word</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for item in content.table %}
                            <tr>
                                <td>{{ item.word }}</td>
                                <td>{{ item.description }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        {% elif content.type == 'table' %}
            <div class="div-table">
                <h3>{{ content.name }}</h3>
                <table>
                    <thead>
                        <tr>
                            {% for header in content.headers %}
                                <th>{{ header }}</th>
                            {% endfor %}
                        </tr>
                    </thead>
                    <tbody>
                        {% for row in content.rows %}
                            <tr>
                                {% for cell in row %}
                                    <td>{{ cell }}</td>
                                {% endfor %}
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        {% elif content.type == 'code' %}
            <div class="div-code">
                <h3>{{ content.name }}</h3>
                <pre>{{ content.code }}</pre>
            </div>
        {% elif content.type == 'img' %}
            <div class="div-img">
                <h3>{{ content.name }}</h3>
                <img src="{{ content.source }}" alt="{{ content.name }}">
            </div>
        {% elif content.type == 'video' %}
            <div class="div-video">
                <h3>{{ content.name }}</h3>
                <video src="{{ content.source }}" controls></video>
            </div>
        {% elif content.type == 'additional_information' %}
            <div class="div-p">
                <h3>{{ content.name }}</h3>
                <p>{{ content.description }}</p>
            </div>
        {% endif %}
        </div>
    {% endfor %}
</body>
</html>
